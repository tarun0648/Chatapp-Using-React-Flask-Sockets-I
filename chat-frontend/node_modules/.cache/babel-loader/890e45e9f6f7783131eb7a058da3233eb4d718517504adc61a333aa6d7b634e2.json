{"ast":null,"code":"const API_BASE = 'http://localhost:5000';\nexport const api = {\n  login: async credentials => {\n    try {\n      console.log('API: Sending login request'); // Debug log\n      const response = await fetch(`${API_BASE}/auth/login`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(credentials)\n      });\n      const data = await response.json();\n      console.log('API: Login response:', data); // Debug log\n\n      if (!response.ok) {\n        throw new Error(data.message || 'Login failed');\n      }\n      return data;\n    } catch (error) {\n      console.error('API: Login error:', error);\n      throw error;\n    }\n  },\n  signup: async userData => {\n    try {\n      console.log('API: Sending signup request'); // Debug log\n      const response = await fetch(`${API_BASE}/auth/signup`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(userData)\n      });\n      const data = await response.json();\n      console.log('API: Signup response:', data); // Debug log\n\n      if (!response.ok) {\n        throw new Error(data.message || 'Signup failed');\n      }\n      return data;\n    } catch (error) {\n      console.error('API: Signup error:', error);\n      throw error;\n    }\n  },\n  getProfile: async token => {\n    try {\n      console.log('API: Getting profile for token:', token); // Debug log\n      const response = await fetch(`${API_BASE}/user/profile/${token}`);\n      const data = await response.json();\n      console.log('API: Profile response:', data); // Debug log\n\n      if (!response.ok) {\n        throw new Error(data.message || 'Failed to get profile');\n      }\n      return data;\n    } catch (error) {\n      console.error('API: Profile error:', error);\n      throw error;\n    }\n  },\n  getChats: async userId => {\n    try {\n      console.log('API: Getting chats for user:', userId); // Debug log\n      const response = await fetch(`${API_BASE}/user/chats/${userId}`);\n      const data = await response.json();\n      console.log('API: Chats response:', data); // Debug log\n\n      if (!response.ok) {\n        throw new Error(data.message || 'Failed to get chats');\n      }\n      return data;\n    } catch (error) {\n      console.error('API: Chats error:', error);\n      throw error;\n    }\n  },\n  getMessages: async chatId => {\n    try {\n      const response = await fetch(`${API_BASE}/chat/${chatId}`);\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.message || 'Failed to get messages');\n      }\n      return data;\n    } catch (error) {\n      console.error('API: Messages error:', error);\n      throw error;\n    }\n  },\n  sendMessage: async messageData => {\n    try {\n      const response = await fetch(`${API_BASE}/chat/message`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(messageData)\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.message || 'Failed to send message');\n      }\n      return data;\n    } catch (error) {\n      console.error('API: Send message error:', error);\n      throw error;\n    }\n  }\n};","map":{"version":3,"names":["API_BASE","api","login","credentials","console","log","response","fetch","method","headers","body","JSON","stringify","data","json","ok","Error","message","error","signup","userData","getProfile","token","getChats","userId","getMessages","chatId","sendMessage","messageData"],"sources":["C:/Users/tarun/Downloads/chatappfinal/chat-frontend/src/services/api.js"],"sourcesContent":["const API_BASE = 'http://localhost:5000';\r\n\r\nexport const api = {\r\n  login: async (credentials) => {\r\n    try {\r\n      console.log('API: Sending login request'); // Debug log\r\n      const response = await fetch(`${API_BASE}/auth/login`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(credentials)\r\n      });\r\n      \r\n      const data = await response.json();\r\n      console.log('API: Login response:', data); // Debug log\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(data.message || 'Login failed');\r\n      }\r\n      \r\n      return data;\r\n    } catch (error) {\r\n      console.error('API: Login error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  signup: async (userData) => {\r\n    try {\r\n      console.log('API: Sending signup request'); // Debug log\r\n      const response = await fetch(`${API_BASE}/auth/signup`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(userData)\r\n      });\r\n      \r\n      const data = await response.json();\r\n      console.log('API: Signup response:', data); // Debug log\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(data.message || 'Signup failed');\r\n      }\r\n      \r\n      return data;\r\n    } catch (error) {\r\n      console.error('API: Signup error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  getProfile: async (token) => {\r\n    try {\r\n      console.log('API: Getting profile for token:', token); // Debug log\r\n      const response = await fetch(`${API_BASE}/user/profile/${token}`);\r\n      const data = await response.json();\r\n      console.log('API: Profile response:', data); // Debug log\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(data.message || 'Failed to get profile');\r\n      }\r\n      \r\n      return data;\r\n    } catch (error) {\r\n      console.error('API: Profile error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  getChats: async (userId) => {\r\n    try {\r\n      console.log('API: Getting chats for user:', userId); // Debug log\r\n      const response = await fetch(`${API_BASE}/user/chats/${userId}`);\r\n      const data = await response.json();\r\n      console.log('API: Chats response:', data); // Debug log\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(data.message || 'Failed to get chats');\r\n      }\r\n      \r\n      return data;\r\n    } catch (error) {\r\n      console.error('API: Chats error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  getMessages: async (chatId) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE}/chat/${chatId}`);\r\n      const data = await response.json();\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(data.message || 'Failed to get messages');\r\n      }\r\n      \r\n      return data;\r\n    } catch (error) {\r\n      console.error('API: Messages error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  sendMessage: async (messageData) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE}/chat/message`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(messageData)\r\n      });\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(data.message || 'Failed to send message');\r\n      }\r\n      \r\n      return data;\r\n    } catch (error) {\r\n      console.error('API: Send message error:', error);\r\n      throw error;\r\n    }\r\n  }\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}